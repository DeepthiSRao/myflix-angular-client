<div class="main-content">
    <mat-card class="mat-elevation-z10 profile-container">
        <mat-card-header>
            <mat-card-title>User Profile</mat-card-title>
        </mat-card-header>
        <mat-divider></mat-divider>
        <mat-card-content>
            <p><span>Username:</span> {{ user.Username }} </p>
            <p><span>Email:</span> {{ user.Email }} </p>
        </mat-card-content>
        <mat-card-actions>
            <button
                (click)="openEditUserForm()"
                mat-raised-button>
                Edit Profile
            </button>
            <button
                (click)="deleteUser()" 
                mat-raised-button>
                Delete User
            </button>
        </mat-card-actions>
    </mat-card>
    <mat-divider></mat-divider>
    <div class="movies-container">
        <h2>Favorite Movies</h2>
        <div fxLayout="row wrap" fxLayoutGap="16px grid">
            <div fxFlex="25%" fxFlex.xs="100%" fxFlex.sm="50%" fxFlex.md="33%" *ngFor="let movie of favoriteMovies; let i=index;">
                <mat-card  class="mat-elevation-z4">
                    <mat-card-header>
                        <mat-card-title>{{movie.Title}}</mat-card-title>
                        <mat-card-subtitle>By {{movie.Director.Name}}</mat-card-subtitle>
                    </mat-card-header>
                    <img src={{movie.ImagePath}} alt={{movie.Title}} style="height: 300px;"/>
                    <mat-card-actions>
                        <button
                            mat-raised-button
                            color="primary"
                            (click)="openGenreDialog(movie.Genre.Name, movie.Genre.Description)"
                        >
                            Genre
                        </button>
                        <button
                            mat-button
                            color="primary"
                            (click)="openDirectorDialog(movie.Director.Name, movie.Director.Bio, movie.Director.Birth, movie.Director.Death)"
                        >
                            Director
                        </button>
                        <button
                            mat-button
                            color="primary"
                            (click)="openSynposisDialog(movie.Title, movie.Description)"
                        >
                            Synposis
                        </button>
                        <button mat-icon-button (click)="deleteFavoriteMovie(movie)">
                            <mat-icon> delete </mat-icon>
                        </button>
                    </mat-card-actions>
                </mat-card>
            </div>
        </div>
    </div>
</div>
